# Redis configuration for fly.io internal network

# Bind to all interfaces (fly.io internal network)
bind 0.0.0.0

# Listen on both IPv4 and IPv6
protected-mode no

# Port
port 6379

# Persistence configuration
save 900 1
save 300 10
save 60 10000

# Enable AOF for durability
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# Memory management
maxmemory 256mb
maxmemory-policy allkeys-lru

# Logging
loglevel notice
logfile ""

# Performance tuning
tcp-keepalive 300
timeout 0

# Disable TLS (using internal network)
tls-port 0

# Security (no password needed on internal network)
# requirepass will be set via environment variable if needed
